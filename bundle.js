!function(e){var t={};function r(l){if(t[l])return t[l].exports;var a=t[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(l,a,function(t){return e[t]}.bind(null,a));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=t.WIDTH=1024,a=t.HEIGHT=832;t.Canvas=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=l,this.height=a,this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Map=t.MAP_W=t.MAP_H=t.BLOCK_W=t.BLOCK_H=void 0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var l=t[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,r,l){return r&&e(t.prototype,r),l&&e(t,l),t}}(),a=r(0);var i=t.BLOCK_H=64,n=t.BLOCK_W=64,o=t.MAP_H=a.HEIGHT/i,s=t.MAP_W=a.WIDTH/n;t.Map=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=t,this.boxesP=[],this.boxesNP=[],this.boxesT=[],this.exit=[],this.cake=[],this.level=r}return l(e,[{key:"getMap",value:function(){for(var e=0,t=0;t<o;t++)for(var r=0;r<s;r++,e++){var l=r*n,a=t*i,p=this.map[e],c={x:l,y:a,width:n,height:i};1===p?this.boxesP.push(c):2===p?this.boxesNP.push(c):3===p?this.exit.push(c):4===p?this.boxesT.push(c):5===p&&this.cake.push(c)}}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Sprites=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.boxSpriteP=new Image,this.boxSpriteP.src="./sprites/wall_p.png",this.boxSpriteNP=new Image,this.boxSpriteNP.src="./sprites/wall_np.png",this.boxSpriteT=new Image,this.boxSpriteT.src="./sprites/wall_t.png",this.boxSpriteBlue=new Image,this.boxSpriteBlue.src="./sprites/wall_blue.png",this.boxSpriteBlueT=new Image,this.boxSpriteBlueT.src="./sprites/wall_blue/wall_blue_t.png",this.boxSpriteBlueB=new Image,this.boxSpriteBlueB.src="./sprites/wall_blue/wall_blue_b.png",this.boxSpriteBlueL=new Image,this.boxSpriteBlueL.src="./sprites/wall_blue/wall_blue_l.png",this.boxSpriteBlueR=new Image,this.boxSpriteBlueR.src="./sprites/wall_blue/wall_blue_r.png",this.boxSpriteOrange=new Image,this.boxSpriteOrange.src="./sprites/wall_orange.png",this.boxSpriteOrangeT=new Image,this.boxSpriteOrangeT.src="./sprites/wall_orange/wall_orange_t.png",this.boxSpriteOrangeB=new Image,this.boxSpriteOrangeB.src="./sprites/wall_orange/wall_orange_b.png",this.boxSpriteOrangeL=new Image,this.boxSpriteOrangeL.src="./sprites/wall_orange/wall_orange_l.png",this.boxSpriteOrangeR=new Image,this.boxSpriteOrangeR.src="./sprites/wall_orange/wall_orange_r.png",this.exitSprite=new Image,this.exitSprite.src="./sprites/door.png",this.cubeSprite=new Image,this.cubeSprite.src="./sprites/cube_clean.png",this.cakeSprite=new Image,this.cakeSprite.src="./sprites/cake.png"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.map1=[1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t.map2=[2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,2,0,0,0,0,0,0,2,2,0,0,0,0,0,0,1,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,2,4,4,4,4,0,0,2,0,0,0,1,1,1,1,1,1,0,0,0,4,0,0,2,0,0,0,0,0,0,0,1,1,0,0,0,4,0,0,2,0,0,0,0,0,0,0,1,1,0,0,0,4,0,0,2,2,0,0,0,0,0,0,1,2,4,4,4,4,0,0,2,2,2,2,4,4,4,4,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t.map3=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,2,2,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0,2,0,0,3,2,0,0,2,2,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2],t.map4=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,2,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2],t.map5=[1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,1,1,0,0,0,0,0,0,0,2,1,0,0,0,0,0,2,2,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],t.map6=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,2,2,2,0,0,0,0,0,0,0,0,1,1,0,0,0,2,2,0,0,0,0,0,0,0,0,0,1,2,4,4,4,2,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,2,0,0,0,0,0,0,1,2,4,4,4,2,2,2,2,2,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,4,4,4,4,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,2,1,1,1,2,2,2,2,2,2,2,1,1,1,1,1],t.map7=[1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,4,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,4,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,4,0,0,0,0,0,0,0,0,1,2,4,4,4,4,0,2,3,2,0,0,0,0,0,0,1,2,0,0,0,0,0,2,2,2,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2],t.map8=[2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,2,0,0,0,0,0,2,2,0,0,0,4,0,0,0,1,2,0,4,4,4,4,2,2,0,0,0,4,0,0,0,1,2,0,0,2,0,0,0,4,0,0,0,4,0,0,0,1,2,0,0,2,0,0,0,4,0,0,0,0,0,0,0,1,2,0,0,2,0,0,2,2,0,0,0,0,4,2,2,2,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,3,2,0,0,2,0,0,2,2,0,0,0,0,0,2,2,2,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,2,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,2,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,2,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,2,2,1,1,2,1,1,2,2,2,2,2,1,2,2,2,2],t.map9=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,2,4,4,4,4,0,2,0,0,0,0,0,0,0,0,1,1,0,0,0,4,0,4,0,0,0,0,0,0,0,0,1,1,0,0,0,4,0,4,0,0,0,0,0,0,0,0,1,1,0,0,0,4,0,4,4,4,4,4,0,0,0,0,1,1,0,0,0,4,0,4,0,0,0,4,0,0,0,0,1,1,0,0,0,4,0,2,0,0,0,4,0,0,0,0,2,1,0,0,0,4,0,1,0,0,0,4,0,0,0,0,2,1,0,0,0,4,0,1,0,0,0,4,0,0,0,0,2,1,0,0,0,4,0,2,0,0,0,4,0,0,0,0,2,1,0,0,0,4,0,2,0,0,0,4,0,0,0,0,2,1,1,1,1,2,1,2,2,2,3,2,2,2,2,2,2],t.map10=[2,1,1,2,2,2,2,2,2,2,2,2,2,1,1,2,2,0,0,4,0,1,0,0,0,0,1,0,4,0,0,2,2,0,0,4,0,1,0,0,0,0,1,0,4,0,0,2,2,0,0,4,0,1,0,0,0,0,1,0,4,0,0,2,2,0,0,4,0,1,0,0,0,0,1,0,4,0,0,2,2,0,0,4,0,1,0,0,0,0,1,0,4,0,0,2,2,0,0,4,0,1,0,0,0,0,4,4,4,0,0,2,2,0,0,4,0,1,0,0,0,0,2,2,2,0,0,2,2,0,0,2,2,2,0,0,2,2,2,2,2,0,0,2,2,0,0,4,4,4,0,0,0,0,4,0,0,0,0,1,2,0,0,2,2,2,0,0,0,0,2,0,0,0,0,2,2,0,0,2,2,3,0,0,0,0,2,0,0,0,0,2,2,1,1,2,2,2,2,2,2,2,2,2,2,1,1,2],t.map11=[4,4,2,2,2,2,2,2,1,2,2,2,1,2,2,1,2,0,0,4,0,0,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,2,0,4,0,0,0,0,1,0,0,4,4,0,0,0,2,4,0,0,0,0,0,1,0,0,0,2,2,0,4,0,4,0,0,0,0,0,0,0,0,0,0,2,2,0,0,3,2,1,0,2,0,0,0,0,4,0,0,2,2,0,2,2,0,0,0,1,0,2,0,0,0,0,0,4,1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,1,0,0,1,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,4,4,2,2,0,0,0,0,1,0,0,0,0,0,0,0,4,0,1,2,2,2,2,2,2,2,2,1,2,1,1,1,2,2,2],t.map12=[0,0,4,1,1,4,4,4,4,2,1,1,1,1,1,2,2,4,4,0,1,2,2,0,4,2,0,2,1,0,0,2,2,0,4,2,2,0,2,0,0,0,0,0,2,0,0,2,1,4,4,0,0,0,0,0,4,0,0,0,4,0,0,1,2,0,4,0,0,4,2,2,2,2,2,0,2,0,0,1,2,4,4,4,4,2,0,2,0,0,2,1,2,0,0,1,2,2,0,2,2,2,0,2,0,0,0,2,1,0,0,2,0,4,0,0,1,2,0,2,0,0,0,2,1,0,0,2,0,4,0,2,1,1,0,2,0,2,0,2,1,0,0,2,2,0,0,2,0,4,0,2,0,2,0,2,1,0,0,2,2,0,2,1,0,0,0,2,0,2,0,2,1,0,0,1,3,0,2,0,0,0,0,0,0,2,0,4,4,0,0,1,2,2,2,2,1,2,1,2,2,2,2,2,2,1,1,1],t.map13=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,5,0,0,0,0,0,0,2,2,0,0,0,0,0,0,2,2,2,0,0,0,0,0,2,2,0,0,0,0,0,2,2,2,2,2,0,0,0,0,2,2,0,0,0,0,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],t.map999=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.teleport=function(e,t,r){switch(r.dir){case"r":if(e.x=r.x-e.width-1,e.y=r.y+r.height/2,"r"===t.dir&&e.velX>0&&(e.velX=-4*e.velX),("t"===t.dir||"b"===t.dir)&&e.velY>0){var l=e.velX;e.velX=-4*e.velY,e.velY=l}break;case"l":if(e.x=r.x+r.width+1,e.y=r.y+r.height/2,"l"===t.dir&&e.velX<0&&(e.velX=-4*e.velX),("t"===t.dir||"b"===t.dir)&&e.velY>0){var a=e.velX;e.velX=4*e.velY,e.velY=a}break;case"t":e.x=r.x+r.width/2-e.width/2,e.y=r.y+r.height,("r"===t.dir||"l"===t.dir)&&e.velY<0&&(e.velY=-e.velY);break;case"b":e.x=r.x+r.width/2-e.width/2,e.y=r.y-e.height-1,"r"===t.dir&&e.velY>0&&(e.velY=-e.velY-e.velX),"l"===t.dir&&e.velY>0&&(e.velY=-e.velY+e.velX),"b"===t.dir&&(e.velY=-e.velY)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playerPos=t.player=void 0;r(0);var l=r(1);t.player={x:l.BLOCK_W,y:5*l.BLOCK_H,width:42,height:42,speedY:6,speedX:8,jumpMult:2,velX:0,velY:0,velOffset:4,grounded:!1,levelCount:0},t.playerPos=[{x:l.BLOCK_W,y:5*l.BLOCK_H},{x:l.BLOCK_W,y:7*l.BLOCK_H},{x:l.BLOCK_W,y:5*l.BLOCK_H},{x:l.BLOCK_W,y:11*l.BLOCK_H},{x:l.BLOCK_W,y:7*l.BLOCK_H},{x:l.BLOCK_W,y:2*l.BLOCK_H},{x:l.BLOCK_W,y:3*l.BLOCK_H},{x:3*l.BLOCK_W,y:l.BLOCK_H},{x:l.BLOCK_W,y:l.BLOCK_H},{x:l.BLOCK_W,y:11*l.BLOCK_H},{x:l.BLOCK_W,y:11*l.BLOCK_H},{x:8*l.BLOCK_W,y:11*l.BLOCK_H},{x:l.BLOCK_W,y:11*l.BLOCK_H}]},function(e,t,r){"use strict";function l(e,t){var r=e.x+e.width/2-(t.x+t.width/2),l=e.y+e.height/2-(t.y+t.height/2),a=e.width/2+t.width/2,i=e.height/2+t.height/2,n=null;if(Math.abs(r)<a&&Math.abs(l)<i){var o=a-Math.abs(r),s=i-Math.abs(l);o>=s?l>0?(n="t",e.y+=s):(n="b",e.y-=s):r>0?(n="l",e.x+=o):(n="r",e.x-=o)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.colCheck=l,t.changeBoxDir=function(e,t){switch(t){case"l":e.dir="l";break;case"r":e.dir="r";break;case"b":e.dir="b";break;case"t":e.dir="t"}},t.objectPlayerCol=function(e,t,r,a){for(var i=0;i<r.length;i++){var n=a;e.ctx.drawImage(n,r[i].x,r[i].y,r[i].width,r[i].height);var o=l(t,r[i]);"l"===o||"r"===o?t.velX=0:"b"===o?t.grounded=!0:"t"===o&&(t.velY*=0)}},t.exitPlayerCol=function(e,t,r,a){for(var i=0;i<r.length;i++){var n=a;e.ctx.drawImage(n,r[i].x,r[i].y,r[i].width,r[i].height);var o=l(t,r[i]);"l"!==o&&"r"!==o&&"b"!==o&&"t"!==o||t.levelCount++,"l"===o||"r"===o?t.velX=0:"b"===o?t.grounded=!0:"t"===o&&(t.velY*=0)}},t.objectPortalCol=function(e,t,r){for(var a=0;a<r.length;a++)for(var i=0;i<e.length;i++){var n=l(r[a],e[i]);"l"!==n&&"r"!==n&&"b"!==n&&"t"!==n||t.splice(a,1)}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.disableScrollBars=function(){document.documentElement.style.overflow="hidden",document.body.scroll="no"}},function(e,t,r){"use strict";r(7);var l=r(6),a=r(5),i=r(4),n=r(0),o=r(1),s=r(3),p=r(2);document.addEventListener("DOMContentLoaded",function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e;var t=!1,r=void 0,c=new n.Canvas("canvas"),u=[],d=.8,y=.83,b=.8,h=38;c.canvas.width=c.width,c.canvas.height=c.height;var v=document.getElementsByClassName("modal")[0],x=document.getElementsByClassName("description-button")[0],g=document.getElementsByClassName("close")[0];x.onclick=function(){v.style.display="block"},g.onclick=function(){v.style.display="none"},window.onclick=function(e){e.target===v&&(v.style.display="none")};var f=new Audio("./music/Portal_Radio_Tune.mp3");f.muted=!0;var m=[s.map1,s.map2,s.map3,s.map4,s.map5,s.map6,s.map7,s.map8,s.map9,s.map10,s.map11,s.map12,s.map13],w=new o.Map(m[0],0);w.getMap();var _=new p.Sprites,C={},O={},B=[],P="blue",S="orange";function L(){a.player.levelCount!==w.level&&((w=new o.Map(m[a.player.levelCount],a.player.levelCount)).getMap(),a.player.x=a.playerPos[a.player.levelCount].x,a.player.y=a.playerPos[a.player.levelCount].y,C={},O={},document.querySelector(".level").innerText=a.player.levelCount+1,document.querySelector(".select-level").value=a.player.levelCount+1),(u[38]||u[32]||u[87])&&a.player.grounded&&(a.player.grounded=!1,a.player.velY=-a.player.speedY*a.player.jumpMult),(u[39]||u[68])&&a.player.velX<a.player.speedX&&(a.player.velX+=a.player.velOffset),(u[37]||u[65])&&a.player.velX>-a.player.speedX&&(a.player.velX-=a.player.velOffset),a.player.grounded?a.player.velX*=d:a.player.velX*=y,a.player.velY<h&&(a.player.velY+=b),a.player.x+=a.player.velX,a.player.y+=a.player.velY;for(var n=0;n<B.length;n++)B[n].x+=B[n].velX,B[n].y+=B[n].velY;c.ctx.clearRect(0,0,c.width,c.height),c.ctx.drawImage(_.cubeSprite,a.player.x,a.player.y,a.player.width,a.player.height),a.player.grounded=!1;for(var s=0;s<w.boxesP.length;s++){var p=_.boxSpriteP;if(C===w.boxesP[s])switch(C.dir){case"b":p=_.boxSpriteBlueT;break;case"t":p=_.boxSpriteBlueB;break;case"r":p=_.boxSpriteBlueL;break;case"l":p=_.boxSpriteBlueR;break;default:p=_.boxSpriteBlue}else if(O===w.boxesP[s])switch(O.dir){case"b":p=_.boxSpriteOrangeT;break;case"t":p=_.boxSpriteOrangeB;break;case"r":p=_.boxSpriteOrangeL;break;case"l":p=_.boxSpriteOrangeR;break;default:p=_.boxSpriteOrange}c.ctx.drawImage(p,w.boxesP[s].x,w.boxesP[s].y,w.boxesP[s].width,w.boxesP[s].height);var v=(0,l.colCheck)(a.player,w.boxesP[s]);if("l"===v||"r"===v||"b"===v||"t"===v){if(C===w.boxesP[s]&&0!==Object.keys(O).length&&C.dir===v){(0,i.teleport)(a.player,C,O);continue}if(O===w.boxesP[s]&&0!==Object.keys(C).length&&O.dir===v){(0,i.teleport)(a.player,O,C);continue}}"l"===v||"r"===v?a.player.velX=0:"b"===v?a.player.grounded=!0:"t"===v&&(a.player.velY*=0)}(0,l.objectPlayerCol)(c,a.player,w.boxesNP,_.boxSpriteNP),(0,l.objectPlayerCol)(c,a.player,w.boxesT,_.boxSpriteT),(0,l.objectPlayerCol)(c,a.player,w.cake,_.cakeSprite),(0,l.exitPlayerCol)(c,a.player,w.exit,_.exitSprite),a.player.grounded&&(a.player.velY=0);for(var x=0;x<B.length;x++)c.ctx.fillStyle=B[x].color,c.ctx.beginPath(),c.ctx.arc(B[x].x,B[x].y,B[x].radius,0,2*Math.PI),c.ctx.fill();for(var g=Object.assign([],B),f=0;f<B.length;f++)for(var k=0;k<w.boxesP.length;k++){var M=(0,l.colCheck)(B[f],w.boxesP[k]);"l"!==M&&"r"!==M&&"b"!==M&&"t"!==M||(B[f].color===P?(C=w.boxesP[k],w.boxesP[k]===O&&(O={}),(0,l.changeBoxDir)(C,M)):B[f].color===S&&(O=w.boxesP[k],w.boxesP[k]===C&&(C={}),(0,l.changeBoxDir)(O,M)),g.splice(f,1))}B=g,g=Object.assign([],B),B=(0,l.objectPortalCol)(w.boxesNP,g,B),g=Object.assign([],B),B=(0,l.objectPortalCol)(w.exit,g,B),t?cancelAnimationFrame(r):r=e(L)}document.body.addEventListener("keydown",function(e){u[e.keyCode]=!0,80===e.keyCode&&(t=!t,L()),77===e.keyCode&&(f.play(),f.muted=!f.muted),82===e.keyCode&&(a.player.x=a.playerPos[w.level].x,a.player.y=a.playerPos[w.level].y)}),document.body.addEventListener("keyup",function(e){u[e.keyCode]=!1}),document.body.addEventListener("mousedown",function(e){var t=P;0===e.button?(u.leftMouse=!0,t=P):2===e.button&&(u.rightMouse=!0,t=S);var r=c.canvas.getBoundingClientRect(),l=e.x-a.player.x-a.player.width/2-r.x,i=e.y-a.player.y-a.player.height/2-r.y,n=Math.sqrt(l*l+i*i),o={x:a.player.x+a.player.width/2,y:a.player.y+a.player.height/2,width:15,height:15,radius:7,velX:l/n*15,velY:i/n*15,color:t};B.push(o)}),document.body.addEventListener("mouseup",function(e){0===e.button?u.leftMouse=!1:2===e.button&&(u.rightMouse=!1)}),document.querySelector(".select-level").addEventListener("change",function(e){a.player.levelCount=e.currentTarget.value-1});var k=document.getElementsByClassName("collapsible")[0],M=document.getElementsByClassName("arrow-right")[0],K=document.getElementsByClassName("arrow-left")[0];k.addEventListener("click",function(){var e=this.nextElementSibling;"0px"!==e.style.maxWidth?(e.style.maxWidth="0px",K.style.display="block",M.style.display="none",setTimeout(function(){k.style.borderTopLeftRadius="10px",k.style.borderBottomLeftRadius="10px"},300)):(k.style.borderBottomLeftRadius="0px",k.style.borderTopLeftRadius="0px",e.style.maxWidth="440px",K.style.display="none",M.style.display="block")}),L()})}]);
//# sourceMappingURL=bundle.js.map